<!DOCTYPE html>
<html>
    <head>
        <title><%= title %></title>
        <link rel="stylesheet" href="/css/styles.css">
        <meta name="viewport" content="width=device-width, initial-scale=1">
    </head>

    <body>
        <nav class="navbar">
            <span class="brand">
                <a href="/">SpinCycle Laundry</a>
            </span>
            <div class="auth">
                <a href="/users/dashboard">Dashboard</a>
                <a href="/users/register">Add User</a>
            </div>
        </nav>

        <div class="main-content">
            <div class="dashboard-container">
                <h1><%= title %></h1>

                <% if (users.length > 0) { %>
                    <div class="table-container" style="margin: 40px 0;">
                        <table>
                            <thead>
                                <tr>
                                    <th>Full Name</th>
                                    <th>Email Address</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <% users.forEach(user => { %>
                                    <tr>
                                        <td><%= user.name %></td>
                                        <td><%= user.email %></td>
                                        <td>
                                            <a href="/users/edit/<%= user._id %>" 
                                               style="display: inline-block; padding: 8px 16px; background: #667eea; color: white; border-radius: 6px; margin-right: 8px; font-size: 0.9em;">
                                                Edit
                                            </a>
                                            <form action="/users/delete/<%= user._id %>" method="POST" 
                                                  style="display: inline-block;" 
                                                  onsubmit="return confirm('Are you sure you want to delete this user?')">
                                                <button type="submit" 
                                                        style="padding: 8px 16px; background: #e53e3e; font-size: 0.9em; border-radius: 6px;">
                                                    Delete
                                                </button>
                                            </form>
                                        </td>
                                    </tr>
                                <% }) %>
                            </tbody>
                        </table>
                    </div>
                <% } else { %>
                    <div style="text-align: center; padding: 60px 40px; background: white; border-radius: 16px; margin: 40px 0; box-shadow: 0 4px 20px rgba(0,0,0,0.1);">
                        <h3 style="color: #64748b; margin-bottom: 16px;">No users registered yet</h3>
                        <p style="color: #94a3b8; margin-bottom: 24px;">Get started by registering the first user.</p>
                    </div>
                <% } %>

                <div style="text-align: center; margin: 40px 0;">
                    <a href="/users/register" 
                       style="display: inline-block; padding: 14px 32px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border-radius: 50px; text-decoration: none; font-weight: 600; transition: all 0.3s ease;">
                        Register New User
                    </a>
                </div>
            </div>
        </div>

        <footer>
            <p>&copy; 2025 SpinCycle Laundry. Making laundry effortless.</p>
        </footer>

        <style>
            .table-container {
                background: white;
                border-radius: 20px;
                padding: 24px;
                box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
                border: 1px solid rgba(226, 232, 240, 0.8);
                overflow: hidden;
            }
        </style>
    </body>
</html>